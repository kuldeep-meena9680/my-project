<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact Me - Kuldeep Meena</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="../asset/logo/kuldeepmeenalogo.png">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:'Poppins',sans-serif;
      background:linear-gradient(135deg,#e3f2fd,#f9f9f9);
      color:#333;
      line-height: 1.6;
    }
    /* Navbar */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: linear-gradient(45deg, dodgerblue, #003580);
      padding: 0px 50px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .navbar .logo img {width: 120px;}
    .nav-links {display: flex;gap: 20px;}
    .nav-links a {
      color: white;text-decoration: none;font-weight: 600;
      transition: 0.3s;padding: 8px 14px;border-radius: 6px;
    }
    .nav-links a:hover,.nav-links a.active {
      background: rgba(255, 255, 255, 0.2);
    }
    .menu-toggle {display: none;font-size: 24px;color: white;cursor: pointer;}
    
    @media (max-width: 768px) {
      .nav-links {
        display: none;flex-direction: column;width: 100%;
        background: #003580;position: absolute;top: 70px;left: 0;padding: 15px 0;
      }
      .nav-links a {text-align: center;padding: 12px;margin: 5px 0;}
      .menu-toggle {display: block;}
      .nav-links.show {display: flex;}
    }

    /* Hero Section */
    .hero{
      background:linear-gradient(rgba(0,74,173,0.7),rgba(0,74,173,0.7)),url('../asset/images/Contact\ BG\ Image.jpg') center/cover no-repeat;
      height:250px;display:flex;justify-content:center;align-items:center;
      text-align:center;color:#fff;padding: 0 15px;
    }
    .hero h1{font-size:3rem;font-weight:700;}
    @media (max-width:768px){
      .hero h1{font-size:2rem;}
    }

    /* Contact Section */
    .contact-section{max-width:1200px;margin:60px auto;padding:20px;}
    .contact-section h2{text-align:center;font-size:2.5rem;color:#004aad;margin-bottom:10px;}
    .contact-section p{text-align:center;color:#555;margin-bottom:50px;}
    @media(max-width:768px){
      .contact-section h2{font-size:1.8rem;}
      .contact-section p{padding: 0 10px;}
    }

    /* Contact Info */
    .contact-info{display:flex;justify-content:space-between;gap:20px;flex-wrap:wrap;margin-bottom:50px;}
    .info-card{
      flex:1 1 30%;background:#fff;padding:30px;border-radius:15px;
      box-shadow:0 8px 25px rgba(0,0,0,0.1);
      text-align:center;transition:0.4s;position:relative;overflow:hidden;
      min-width: 260px;
    }
    .info-card::before{
      content:"";position:absolute;top:0;left:-100%;
      width:100%;height:100%;
      background:linear-gradient(120deg,rgba(0,123,255,0.1),rgba(255,215,0,0.15));
      transition:0.5s;
    }
    .info-card:hover::before{left:0;}
    .info-card:hover{transform:translateY(-10px);box-shadow:0 15px 30px rgba(0,0,0,0.2);}
    .info-card i{font-size:40px;color:#007bff;margin-bottom:15px;}
    .info-card h3{color:#004aad;margin-bottom:8px;}

    /* Contact Form */
    .contact-form{
      background:linear-gradient(135deg,#ffffffcc,#f0f8ffcc);
      backdrop-filter:blur(10px);
      padding:40px;border-radius:20px;
      box-shadow:0 8px 30px rgba(0,0,0,0.2);
      margin-bottom:50px;
      position: relative;
      overflow: hidden;
    }
    .contact-form::before{
      content:"";position:absolute;top:-50%;left:-50%;
      width:200%;height:200%;
      background:conic-gradient(from 180deg,rgba(0,123,255,0.2),transparent,rgba(0,123,255,0.2));
      animation: rotateBg 8s linear infinite;
    }
    .contact-form > * {position:relative;z-index:1;}
    @keyframes rotateBg {
      100% {transform: rotate(360deg);}
    }
    .form-group{margin-bottom:20px;}
    label{display:block;margin-bottom:6px;color:#444;font-weight:500;}
    input,textarea{
      width:100%;padding:12px;
      border:1px solid #ccc;border-radius:10px;
      font-size:15px;transition:0.3s;
    }
    input:focus,textarea:focus{
      border-color:#007bff;outline:none;box-shadow:0 0 10px rgba(0,123,255,0.3);
    }
    textarea{resize:none;height:120px;}
    button{
      background:linear-gradient(90deg,#004aad,#007bff);
      color:#fff;border:none;padding:14px 40px;
      font-size:16px;font-weight:600;
      border-radius:30px;cursor:pointer;
      transition:0.3s;
      display:inline-flex;align-items:center;gap:10px;
    }
    button i {font-size:18px;}
    button:hover{transform: scale(1.05);background:linear-gradient(90deg,#003580,#0056d6);}

    /* Professional Animated Success Message */
    .success-message {
      position: fixed;
      top: 30px;
      right: 30px;
      background: linear-gradient(135deg,#00aaff,#00ffcc);
      color: #fff;
      padding: 15px 25px;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      font-weight: 600;
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
      opacity: 0;
      pointer-events: none;
      transform: translateY(-20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
      z-index: 9999;
    }
    .success-message.show {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }
    .success-message i {
      font-size: 20px;
    }

    /* Map Section */
    .map-section {text-align: center;margin-top: 60px;}
    .map-section h2 {font-size: 2.2rem;color: #004aad;margin-bottom: 8px;}
    .map-section p {color: #666;margin-bottom: 40px;}
    .map-container {
      display: flex;justify-content: space-between;gap: 25px;align-items: stretch;flex-wrap: wrap;
    }
    .map-box {
      flex: 1 1 60%;border-radius: 15px;overflow: hidden;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      min-width: 300px;
    }
    .map-box iframe {width: 100%;height: 100%;min-height: 350px;border: none;}
    .map-info {
      flex: 1 1 35%;background: #fff;border-radius: 15px;
      padding: 30px;box-shadow: 0 8px 25px rgba(0,0,0,0.15);text-align: left;
      min-width: 280px;
    }
    .map-info h3 {color: #004aad;margin-bottom: 15px;}
    .map-info p {margin: 10px 0;color: #444;}
    .map-info i {color: #007bff;margin-right: 10px;}
    .map-btn {
      display: inline-block;margin-top: 15px;padding: 12px 25px;
      background: linear-gradient(90deg,#004aad,#007bff);
      color: #fff;font-weight: 600;text-decoration: none;
      border-radius: 30px;transition: 0.3s;
    }
    .map-btn:hover {background: linear-gradient(90deg,#003580,#0056d6);}
    @media (max-width: 768px) {
      .map-container {flex-direction: column;}
      .map-info {text-align: center;}
    }

    /* ==================== FOOTER STYLES ==================== */
    :root{
      --primary:#0d2b52;
      --accent:#ffcc00;
      --glass-bg: rgba(13,43,82,0.85);
      --muted: rgba(255,255,255,0.85);
    }

    .footer {
      position: relative;
      background: var(--glass-bg);
      backdrop-filter: blur(8px) saturate(120%);
      color: #fff;
      padding: 110px 20px 60px;
      overflow: hidden;
      border-top: 1px solid rgba(255,255,255,0.06);
      box-shadow: 0 10px 40px rgba(3,9,23,0.6) inset;
    }

    /* Animated Waves */
    .waves {
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 120px;
      pointer-events: none;
      z-index: 3;
      overflow: hidden;
    }
    .wave {
      position: absolute;
      width: 200%;
      height: 160px;
      background: radial-gradient(60% 50% at 10% 50%, rgba(255,255,255,0.06), rgba(255,255,255,0)),
                  linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
      border-radius: 45%;
      transform-origin: center bottom;
      filter: blur(6px);
      animation: waveMove 10s linear infinite;
    }
    .wave#w1{ bottom:-40px; left:0; opacity:0.55; animation-duration:10s; transform:scaleX(1.1) }
    .wave#w2{ bottom:-20px; left:-30%; opacity:0.35; animation-duration:14s; transform:scaleX(1.25) }
    .wave#w3{ bottom:-10px; left:-10%; opacity:0.22; animation-duration:20s; transform:scaleX(1.45) }
    .wave#w4{ bottom:0px; left:-50%; opacity:0.12; animation-duration:26s; transform:scaleX(1.9) }

    @keyframes waveMove {
      0%{ transform: translateX(0) rotate(0deg); }
      100%{ transform: translateX(-50%) rotate(0deg); }
    }

    /* Footer main grid */
    .footer-container{
      max-width:1200px;
      margin: 0 auto;
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
      gap:34px;
      position:relative;
      z-index:6;
    }

    .footer-col { padding:6px 4px; }
    .footer-col.about .logo { font-size:28px; margin:0 0 6px 0; display:flex; align-items:center; gap:10px; }
    .logo-emoji{ font-size:20px; transform:translateY(-2px); }

    /* Animated gradient text */
    .gradient-text{
      background: linear-gradient(270deg, var(--accent), #ff6b6b, #00e0e0, #a76bff);
      background-size: 800% 800%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradientAnim 10s linear infinite;
      font-weight:700;
      letter-spacing:0.2px;
    }
    @keyframes gradientAnim {
      0%{ background-position:0% 50% }
      50%{ background-position:100% 50% }
      100%{ background-position:0% 50% }
    }

    .footer-col p{ color:var(--muted); margin:8px 0 0 0; font-size:14px; line-height:1.7; }
    .footer-col h3{ margin:0 0 10px 0; font-size:16px; color:#fff; position:relative; }
    .footer-col h3::after{ content:''; display:block; width:42px; height:3px; background:var(--accent); margin-top:8px; border-radius:3px; }

    /* Lists */
    .footer-col ul{ list-style:none; padding:0; margin:6px 0 0 0; }
    .footer-col li{ margin:10px 0; font-size:14px; display:flex; align-items:center; gap:10px; color:var(--muted); }
    .footer-col li i{ color:var(--accent); min-width:18px; text-align:center;}

    /* Social icons */
    .social-icons{ margin-top:12px; display:flex; gap:10px; align-items:center; }
    .social-icons a{
      display:inline-grid; place-items:center;
      width:44px;height:44px;border-radius:50%;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      color:#fff; text-decoration:none; position:relative; overflow:hidden; transition: transform .25s ease, box-shadow .25s ease;
      box-shadow: 0 6px 18px rgba(2,8,20,0.3);
    }
    .social-icons a i{ font-size:16px; }
    .social-icons a:hover{ transform:translateY(-6px) scale(1.06); box-shadow: 0 14px 34px rgba(0,0,0,0.6), 0 0 18px rgba(255,204,0,0.18); color:var(--primary); background:var(--accent); }
    .social-icons a::after{
      content:''; position:absolute; width:12px; height:12px; background:#fff; border-radius:50%; left:50%; top:120%; transform:translateX(-50%); opacity:0; transition: all .45s cubic-bezier(.2,.9,.3,1);
      filter:blur(.2px);
    }
    .social-icons a:hover::after{ top:-18%; opacity:0.9; transform: translateX(-50%) scale(1.2); }

    /* Newsletter */
    .newsletter { background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); padding:16px; border-radius:12px; border:1px solid rgba(255,255,255,0.04); }
    .newsletter p{ margin:0 0 10px 0; color:var(--muted); }
    .newsletter form { display:flex; gap:8px; align-items:center; }
    .newsletter input[type="email"]{
      flex:1; padding:12px 14px; border-radius:999px; border:none; outline:none;
      background: rgba(255,255,255,0.04); color:#fff; font-size:14px; transition: box-shadow .2s;
    }
    .newsletter input[type="email"]::placeholder{ color: rgba(255,255,255,0.55); }
    .newsletter button.subscribe{
      background: linear-gradient(90deg, var(--accent), #ff7b7b); color:var(--primary); padding:10px 16px; border:none; border-radius:999px; cursor:pointer; font-weight:600;
      display:flex; align-items:center; gap:8px; box-shadow: 0 8px 20px rgba(255,204,0,0.12); transition: transform .18s ease, box-shadow .18s ease;
    }
    .newsletter button.subscribe:hover{ transform:translateY(-4px); box-shadow: 0 18px 44px rgba(255,204,0,0.18); }

    /* Footer bottom */
    .footer-bottom{ text-align:center; margin-top:28px; font-size:13px; color:rgba(255,255,255,0.85); position:relative; z-index:6; }

   /* Scroll-to-top button (small glowing circle) */
    .scroll-top{
      position:fixed; right:24px; bottom:24px; z-index:9999; width:50px;height:50px;border-radius:50%; border:none; display:grid; place-items:center; cursor:pointer;
      background: linear-gradient(180deg,var(--accent), #ffd36a); color:var(--primary); font-size:18px; box-shadow: 0 8px 28px rgba(255,204,0,0.18);
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .scroll-top:hover{ transform:scale(1.12); box-shadow: 0 18px 48px rgba(255,204,0,0.28); }

    /* Toast */
    .toast{
      position:fixed; left:50%; transform:translateX(-50%); bottom:90px; z-index:99999;
      background: linear-gradient(90deg,#00d27a,#28a7ff); color:#fff; padding:12px 18px; border-radius:10px; box-shadow:0 10px 30px rgba(0,0,0,0.5); display:flex; gap:10px; align-items:center; font-weight:600;
      opacity:0; pointer-events:none; transition:all .35s;
    }
    .toast.show{ opacity:1; bottom:110px; pointer-events:auto; }

    /* Confetti */
    .confetti-wrapper { position:fixed; left:50%; transform:translateX(-50%); bottom:140px; z-index:99998; pointer-events:none; width:260px; height:120px; overflow:visible; }

    /* Footer responsive */
    @media (max-width:720px){
      .footer{ padding:90px 16px 110px; }
      .waves{ top:-60px; height:90px; }
      .scroll-top{ right:14px; bottom:18px; }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo"><img src="../asset/logo/kuldeepmeenalogo.png" alt="Logo" /></div>
    <div class="nav-links" id="navLinks">
      <a href="../src/kuldeepmeena.html">Home</a>
      <a href="../src/about.html">About</a>
      <a href="../src/service.html">Services</a>
      <a href="../src/portfolio.html">Portfolio</a>
      <a href="../src/contact.html" class="active">Contact</a>
    </div>
    <div class="menu-toggle" id="menuToggle"><i class="fas fa-bars"></i></div>
  </nav>

  <!-- Hero -->
  <section class="hero"><h1>Contact Me</h1></section>

  <!-- Contact Section -->
  <section class="contact-section">
    <h2>Get In Touch</h2>
    <p>I'd love to hear from you! Whether you have a project in mind, a question, or just want to say hello.</p>
    
    <!-- Contact Info -->
    <div class="contact-info">
      <div class="info-card"><i class="fas fa-envelope"></i><h3>Email</h3><p>km162613@gmail.com</p></div>
      <div class="info-card"><i class="fas fa-phone"></i><h3>Phone</h3><p>+91 94625 91251</p></div>
      <div class="info-card"><i class="fas fa-map-marker-alt"></i><h3>Location</h3><p>P.N. 18, Laxmi Nagar Jhotwara, Jaipur, Rajasthan, India, 302012</p></div>
    </div>

    <!-- Contact Form -->
    <div class="contact-form">
      <form id="contactForm">
        <div class="form-group">
          <label>Your Name</label>
          <input type="text" name="name" placeholder="Enter your name" required />
        </div>
        <div class="form-group">
          <label>Email Address</label>
          <input type="email" name="email" placeholder="Enter your email" required />
        </div>
        <div class="form-group">
          <label>Message</label>
          <textarea name="message" placeholder="Write your message here..." required></textarea>
        </div>
        <button type="submit"><i class="fas fa-paper-plane"></i> Send Message</button>
      </form>

      <!-- Professional Success Message -->
      <div class="success-message" id="successMessage">
        <i class="fa-solid fa-circle-check"></i>
        <span>Thank you! Your message has been submitted.</span>
      </div>
    </div>

    <!-- Map Section -->
    <section class="map-section">
      <h2>Find Me Here</h2>
      <p>Visit me or connect through my location details below</p>
      <div class="map-container">
        <div class="map-box">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3563.485470841283!2d75.78727071504682!3d26.912433883122894!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x396db5d3b8a88a1d%3A0x5e54d8e2dfd7c0a3!2sJaipur%2C%20Rajasthan!5e0!3m2!1sen!2sin!4v1675587748739!5m2!1sen!2sin" allowfullscreen="" loading="lazy"></iframe>
        </div>
        <div class="map-info">
          <h3>Office Address</h3>
          <p><i class="fas fa-map-marker-alt"></i> P.N. 18, Laxmi Nagar Jhotwara,<br/> Jaipur, Rajasthan, India, 302012</p>
          <p><i class="fas fa-phone"></i> +91 94625 91251</p>
          <p><i class="fas fa-envelope"></i> km162613@gmail.com</p>
          <a href="https://www.google.com/maps" target="_blank" class="map-btn">Open in Google Maps</a>
        </div>
      </div>
    </section>
  </section>

  <!-- ==================== FOOTER ==================== -->
  <footer class="footer" aria-label="Site footer">
    <!-- Waves -->
    <div class="waves" aria-hidden="true">
      <div class="wave" id="w1"></div>
      <div class="wave" id="w2"></div>
      <div class="wave" id="w3"></div>
      <div class="wave" id="w4"></div>
    </div>

    <div class="footer-container">
      <!-- ABOUT & SOCIAL -->
      <div class="footer-col about" aria-labelledby="footer-about">
        <div class="logo" id="footer-about">
          <span class="logo-emoji">🌐</span>
          <span class="gradient-text">Kuldeep Meena</span>
        </div>
        <p>Crafting modern, responsive, and high-performance websites. I focus on UI/UX, accessibility and measurable business results.</p>
        <div class="social-icons" aria-label="social links">
          <a href="#" title="Facebook" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
          <a href="#" title="Twitter" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
          <a href="#" title="LinkedIn" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
          <a href="#" title="GitHub" aria-label="GitHub"><i class="fab fa-github"></i></a>
        </div>
      </div>

      <!-- QUICK LINKS -->
      <div class="footer-col" aria-labelledby="footer-links">
        <h3 id="footer-links">Quick Links</h3>
        <ul>
          <li><i class="fas fa-angle-right"></i><a href="../src/kuldeepmeena.html">Home</a></li>
          <li><i class="fas fa-angle-right"></i><a href="../src/about.html">About</a></li>
          <li><i class="fas fa-angle-right"></i><a href="../src/service.html">Services</a></li>
          <li><i class="fas fa-angle-right"></i><a href="../src/portfolio.html">Portfolio</a></li>
          <li><i class="fas fa-angle-right"></i><a href="../src/contact.html">Contact</a></li>
        </ul>
      </div>

      <!-- SERVICES -->
      <div class="footer-col" aria-labelledby="footer-services">
        <h3 id="footer-services">Services</h3>
        <ul>
          <li><i class="fas fa-code"></i> Web Development</li>
          <li><i class="fas fa-paint-brush"></i> UI/UX Design</li>
          <li><i class="fas fa-briefcase"></i> Consulting</li>
          <li><i class="fas fa-chart-line"></i> SEO & Marketing</li>
        </ul>
      </div>

      <!-- CONTACT + NEWSLETTER -->
      <div class="footer-col" aria-labelledby="footer-contact">
        <h3 id="footer-contact">Contact</h3>
        <ul>
          <li><i class="fas fa-phone"></i> +91 9462591251</li>
          <li><i class="fas fa-envelope"></i> km162613@gmail.com</li>
          <li><i class="fas fa-map-marker-alt"></i> 18, Laxmi Nagar, Jhotwara, Jaipur, Rajasthan</li>
        </ul>

        <div style="height:12px"></div>

        <div class="newsletter" aria-label="Newsletter subscription">
          <p><strong>Get updates</strong> — subscribe to my newsletter for tips, offers & short tutorials.</p>
          <form id="newsletterForm" novalidate>
            <input id="newsletterEmail" name="email" type="email" placeholder="Enter your email" aria-label="Email address" required>
            <button class="subscribe" type="submit" aria-label="Subscribe"><i class="fas fa-paper-plane"></i> Subscribe</button>
          </form>
        </div>
      </div>
    </div>

    <div class="footer-bottom" role="contentinfo">
      <p>© 2025 <span class="gradient-text">Kuldeep Meena</span>. All Rights Reserved. • Designed with ❤️</p>
    </div>
  </footer>

  <!-- Scroll to top -->
  <button class="scroll-top" id="scrollTopBtn" title="Back to top" aria-label="Scroll to top"><i class="fas fa-chevron-up"></i></button>

  <!-- Toast + confetti container -->
  <div class="toast" id="toast" role="status" aria-live="polite"><i class="fas fa-check-circle"></i><span id="toastText">Subscribed!</span></div>
  <div class="confetti-wrapper" id="confetti"></div>

  <script>
    // Form success message
    document.getElementById('contactForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const successMsg = document.getElementById('successMessage');
      successMsg.classList.add('show');

      // Hide after 3 seconds
      setTimeout(() => {
        successMsg.classList.remove('show');
      }, 3000);

      this.reset();
    });

    // Navbar menu toggle
    const menuToggle = document.getElementById('menuToggle');
    const navLinks = document.getElementById('navLinks');
    menuToggle.addEventListener('click', () => {navLinks.classList.toggle('show');});

    /* ---------------------------
       Scroll-to-top button logic
       --------------------------- */
    const scrollBtn = document.getElementById('scrollTopBtn');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 300) scrollBtn.style.display = 'grid';
      else scrollBtn.style.display = 'none';
    });
    scrollBtn.addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));
    // initial hide
    scrollBtn.style.display = 'none';
    
    /* ---------------------------
       Newsletter form handling
       --------------------------- */
    const form = document.getElementById('newsletterForm');
    const emailInput = document.getElementById('newsletterEmail');
    const toast = document.getElementById('toast');
    const toastText = document.getElementById('toastText');
    const confettiWrap = document.getElementById('confetti');

    function validEmail(email){
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    function showToast(message = 'Subscribed!') {
      toastText.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3600);
    }

    function spawnConfetti(duration = 1600, count = 22){
      confettiWrap.innerHTML = '';
      const colors = ['#FFCC00', '#FF6B6B', '#00E0E0', '#A76BFF', '#FFFFFF'];
      for(let i=0;i<count;i++){
        const el = document.createElement('span');
        el.style.position = 'absolute';
        el.style.left = (50 + (Math.random()*100 - 50)) + '%';
        el.style.bottom = '0px';
        el.style.width = (6 + Math.random()*10) + 'px';
        el.style.height = el.style.width;
        el.style.background = colors[Math.floor(Math.random()*colors.length)];
        el.style.borderRadius = (Math.random()>0.5? '50%':'2px');
        el.style.opacity = 0.95;
        el.style.transform = 'translateY(0) rotate('+ (Math.random()*360) +'deg)';
        el.style.pointerEvents = 'none';
        el.style.zIndex = 99999;
        el.style.transition = 'transform ' + (0.9 + Math.random()*0.9) + 's cubic-bezier(.2,.8,.3,1), opacity 0.9s';
        confettiWrap.appendChild(el);
        setTimeout(()=> {
          const dx = (Math.random()*160) - 80;
          const dy = - (120 + Math.random()*160);
          const rot = (Math.random()*720 - 360);
          el.style.transform = 'translate(' + dx + 'px,' + dy + 'px) rotate(' + rot + 'deg)';
          el.style.opacity = 0;
        }, 20 + Math.random()*120);
      }
      setTimeout(()=> confettiWrap.innerHTML = '', duration + 800);
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const email = emailInput.value.trim();
      if(!validEmail(email)){
        showToast('Please enter a valid email');
        return;
      }

      try {
        const key = 'km_newsletter_list_v1';
        const existing = JSON.parse(localStorage.getItem(key) || '[]');
        if(!existing.includes(email)){
          existing.push(email);
          localStorage.setItem(key, JSON.stringify(existing));
        }
      } catch(err){}

      showToast('Thanks! You are subscribed ✨');
      spawnConfetti(1800, 20);

      const btn = form.querySelector('button');
      btn.disabled = true;
      btn.style.transform = 'translateY(-4px) scale(.98)';
      setTimeout(()=> { btn.disabled=false; btn.style.transform=''; }, 1200);

      emailInput.value = '';
    });

    emailInput.addEventListener('keydown', (e)=> {
      if(e.key === 'Enter') form.dispatchEvent(new Event('submit', {cancelable:true, bubbles:true}));
    });

    const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
    if(mq && mq.matches){
      document.querySelectorAll('*').forEach(el => el.style.transition = 'none');
    }

    window.addEventListener('load', () => {
      setTimeout(()=> {
        if(window.scrollY > 200) scrollBtn.style.display='grid';
      }, 700);
    });
  </script>
</body>
</html>